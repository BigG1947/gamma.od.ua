<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>admin secure</title>
    <link rel="shortcut icon" href="/static/img/favicon.png" type="image/x-icon">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/static/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="/static/css/mdb.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link rel="stylesheet" type="text/css" href="/static/css/passfield.min.css">


</head>
<body style="background-image: url(/static/img/square_bg_@2X.png);">

<!--Navbar-->
<nav class="navbar navbar-expand-lg navbar-light   white">

    <!-- Navbar brand -->
    <a class="navbar-brand" href="/">
        <img src="/static/img/logo.png" height="70" alt="">
    </a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
            aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="basicExampleNav">

        <!-- Links -->
        <ul class="navbar-nav mr-auto text-center">

            <li class="nav-item ">
                <a class="nav-link" href="/admin/news">НОВОСТИ</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/projects">ПРОЕКТЫ</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/admin/mail">ПОЧТА</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/social">СОЦСЕТИ</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="/admin/secure">БЕЗОПАСНОСТЬ</a>
            </li>
        </ul>


        <ul class="navbar-nav ml-auto text-center">
            <li class="nav-item ">
                <a class="nav-link " href="/admin/logout">
                    ВЫХОД <i class="fas fa-sign-out-alt text-info"></i>

                </a>
            </li>

        </ul>
        <!-- Links -->


    </div>
    <!-- Collapsible content -->

</nav>

<div class="container  h-100">
    <div class=" row align-items-center justify-content-center h-100 my-5">
        <div class="card  col-lg-8 col-10 mx-auto p-0 z-depth-2">

            <h5 class="card-header info-color white-text text-center py-4">
                <strong>ИЗМЕНЕНИЕ ПАРОЛЯ</strong>
            </h5>

            <!--Card content-->
            <div class="card-body px-lg-5 pt-0 ">

                {{ if ne (len .flashes) 0 }}
                        {{ range .flashes }}
                            <div class="alert alert-info mt-3 text-center">
                            {{ . }}
                            </div>
                        {{ end }}
                {{ end }}

                <!-- Form -->
                <form class="" style="color: #757575;" action="" method="post">

                    <!-- Email -->
                    <div class="my-4">
                        <input type="text" name="oldpass" id="oldpass" class="form-control text-info"
                               placeholder="старый пароль"
                               required>
                    </div>

                    <div id="mypass-wrap" class="control-group my-4">
                        <input type="password" name="newpass" id="mypass" placeholder="новый пароль"
                               class="form-control text-info"/>
                    </div>

                    <div class="my-4">
                        <input type="text" name="newpass2" id="newpass2" class="form-control text-info"
                               placeholder="повторить новый пароль" required>

                    </div>

                    {{ .csrfField }}

                    <!-- Sign in button -->
                    <button class="btn btn-outline-info round-button btn-block mt-5 mb-3 waves-effect z-depth-0"
                            type="submit">сохранить
                    </button>

                    <!-- Register -->


                </form>
                <!-- Form -->


            </div>
        </div>

    </div>
    <!-- Material form login -->
</div>




<script type="text/javascript" src="/static/js/passfield.min.js"></script>
<script type="text/javascript">
    var passField =
        new PassField.Field("mypass", {
            pattern: "aBcDef122$11",
            acceptRate: 1,
            allowEmpty: false
        });


    new PassField.Field("oldpass", {
        isMasked: true,
        showGenerate: false,
        showWarn: false,
        showTip: false
    });

    var passField =
        new PassField.Field("newpass2", {
            isMasked: true,
            showGenerate: false,
            showWarn: false,
            showTip: false
        });


    window.onload = function () {
        document.getElementById("mypass").onchange = validatePassword;
        document.getElementById("newpass2").onchange = validatePassword;
    }

    function validatePassword() {
        var pass2 = document.getElementById("mypass").value;
        var pass1 = document.getElementById("newpass2").value;
        if (pass1 != pass2)
            document.getElementById("newpass2").setCustomValidity("пароли не совпадают");
        else
            document.getElementById("newpass2").setCustomValidity('');
//empty string means no validation error
    }
</script>

<!-- JQuery -->
<script type="text/javascript" src="/static/js/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="/static/js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="/static/js/mdb.min.js"></script>


</body>
</html>