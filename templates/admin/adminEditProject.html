<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>admin edit project</title>
    <link rel="shortcut icon" href="/static/img/favicon.png" type="image/x-icon">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/static/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="/static/css/mdb.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="/static/css/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.css" rel="stylesheet">

</head>
<body style="background-image: url(/static/img/square_bg_@2X.png);">

<!--Navbar-->
<nav class="navbar navbar-expand-lg navbar-light   white">

    <!-- Navbar brand -->
    <a class="navbar-brand" href="/">
        <img src="/static/img/logo.png" height="70" alt="">
    </a>

    <!-- Collapse button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
            aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="basicExampleNav">

        <!-- Links -->
        <ul class="navbar-nav mr-auto text-center">

            <li class="nav-item ">
                <a class="nav-link" href="/admin/news">НОВОСТИ</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/projects">ПРОЕКТЫ</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/mail">ПОЧТА</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/social">СОЦСЕТИ</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="/admin/secure">БЕЗОПАСНОСТЬ</a>
            </li>
        </ul>


        <ul class="navbar-nav ml-auto text-center	">
            <li class="nav-item ">
                <a class="nav-link " href="/admin/logout">
                    ВЫХОД <i class="fas fa-sign-out-alt text-info"></i>

                </a>
            </li>

        </ul>
        <!-- Links -->


    </div>
    <!-- Collapsible content -->

</nav>

<div class="container  h-100">
    <div class=" row align-items-center justify-content-center h-100 my-5">
        <div class="card  col-lg-11 col-10 mx-auto p-0 z-depth-2">

            <h5 class="card-header info-color white-text text-center py-4">
                <strong>РЕДАКТИРОВАНИЕ ПРОЕКТА</strong>
            </h5>

            <!--Card content-->
            <div class="card-body px-lg-5 pt-0 ">

                <!-- Form -->
                <form class="" style="color: #757575;" action="" method="post" enctype="multipart/form-data">
                    <!-- Email -->
                    <div class="md-form">
                        <input type="text" name="name" id="materialLoginFormEmail" value="{{ .project.Name }}"
                               class="form-control text-info" required>
                        <label for="materialLoginFormEmail">Заголовок</label>
                    </div>

                    <div class="md-form">
                        <textarea rows="5" class="w-100" name="description" required maxlength="500">{{ .project.Description }}</textarea>
                        <span id="rchars"></span> символов доступно
                    </div>

                    <div class="input-group mb-4">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="inputGroupFileAddon01">Фото</span>
                        </div>
                        <div class="custom-file">
                            <input name="images" type="file" class="custom-file-input" id="inputGroupFile01"
                                   aria-describedby="inputGroupFileAddon01" accept="image/jpeg, image/png">
                            <label class="custom-file-label" for="inputGroupFile01">Выбирите фоновое фото для
                                замены </label>
                        </div>
                    </div>


                    <div class="md-form">
                        <input {{ if .project.Video1.String }}value="https://www.youtube.com/watch?v={{ .project.Video1.String }}"{{ end }} type="text" name="video1" id="video1"
                               class="form-control text-info"
                               title="адресс нужно видео на youtube из строки браузера">
                        <label for="video1">видео1(опционально)</label>
                    </div>

                    <div class="md-form">
                        <input {{ if .project.Video2.String }}value="https://www.youtube.com/watch?v={{ .project.Video2.String }}"{{ end }} type="text" name="video2" id="video2"
                               class="form-control text-info"
                               title="адресс нужно видео на youtube из строки браузера">
                        <label for="video2">видео2(опционально)</label>
                    </div>

                    <div class="md-form">
                        <input {{ if .project.Video3.String }}value="https://www.youtube.com/watch?v={{ .project.Video3.String }}"{{ end }} type="text" name="video3" id="video3"
                               class="form-control text-info"
                               title="адресс нужно видео на youtube из строки браузера">
                        <label for="video3">видео3(опционально)</label>
                    </div>

                    <p>Добавить в избранное:</p>

                    <div class="custom-control custom-radio my-1">
                        <input type="radio" class="custom-control-input"
                               {{ if eq .project.IsFavorite 1 }}checked{{ end }} id="favorite1" name="favorite"
                               value="1">
                        <label class="custom-control-label" for="favorite1">избранное 1</label>

                    </div>
                    <div class="custom-control custom-radio my-1">
                        <input type="radio" class="custom-control-input" id="favorite2"
                               {{ if eq .project.IsFavorite 2 }}checked{{ end }} name="favorite" value="2">
                        <label class="custom-control-label" for="favorite2">избранное 2</label>

                    </div>
                    <div class="custom-control custom-radio my-1">
                        <input type="radio" class="custom-control-input" id="favorite3"
                               {{ if eq .project.IsFavorite 3 }}checked{{ end }} name="favorite" value="3">
                        <label class="custom-control-label" for="favorite3">избранное 3</label>

                    </div>
                    <div class="custom-control custom-radio my-1">
                        <input type="radio" class="custom-control-input" id="favorite4"
                               {{ if eq .project.IsFavorite 0 }}checked{{ end }} name="favorite" value="0">
                        <label class="custom-control-label" for="favorite4">не добавлять</label>

                    </div>


                    {{ .csrfField }}


                    <!-- Sign in button -->
                    <button class="btn btn-outline-info round-button btn-block mt-5 mb-3 waves-effect z-depth-0"
                            type="submit">сохранить
                    </button>

                    <!-- Register -->


                </form>
                <!-- Form -->

            </div>
        </div>

    </div>


    <div class="gallery" id="gallery">
        {{ $idProject := .project.Id }}
        {{ range .project.Photos }}
            <!-- Grid column -->
            <div class="mb-3 pics animation all ">
                <a href="/{{ .Src }}" target="_blank" class="waves-effect w-100"><img
                            class="img-fluid w-100" src="/{{ .Src }}"
                            alt="Card image cap"></a>
                <div class="fixed-bottom text-right">
                    <a class="btn-floating btn-danger-dark fixed-bottom btn-lg mr-2 mb-3 waves-effect"
                       href="/admin/projects/{{ $idProject }}/photo/{{ .Id }}/delete"><i
                                class="fas fa-trash-alt"></i></a>
                </div>
            </div>
            <!-- Grid column -->

        {{ end }}

    </div>

    <div class=" row align-items-center justify-content-center h-100 my-5">
        <div class="card  col-lg-11 col-10 mx-auto p-0 z-depth-2">

            <h5 class="card-header info-color white-text text-center py-4">
                <strong>ДОБАВИТЬ ФОТО</strong>
            </h5>

            <!--Card content-->
            <div class="card-body px-lg-5 pt-0 ">
                <form class="" style="color: #757575;" action="/admin/project/photo/add" method="post"
                      enctype="multipart/form-data">
                    <input type="hidden" name="id" value="{{ .project.Id }}">
                    <div class="input-group mt-4">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="inputGroupFileAddon01">Фото</span>
                        </div>
                        <div class="custom-file">
                            <input type="file" name="photos" class="custom-file-input" id="inputGroupFile01"
                                   aria-describedby="inputGroupFileAddon01" accept="image/jpeg, image/png" multiple
                                   required>
                            <label class="custom-file-label" for="inputGroupFile01">Выбирите фото(не более 2Mb
                                каждое)</label>
                        </div>
                    </div>

                    {{ .csrfField }}

                    <button class="btn btn-outline-info round-button btn-block mt-5 mb-3 waves-effect z-depth-0"
                            type="submit">добавить
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Material form login -->
</div>



<!-- Footer -->

<!-- JQuery -->
<script type="text/javascript" src="/static/js/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="/static/js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="/static/js/mdb.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.js"></script>

<script>
    $(document).ready(function() {
        var maxLength = $('textarea').attr('maxlength');
        $('#rchars').text(maxLength);
        $('textarea').attr('placeholder',"краткое описание( максимум  "+ maxLength + " символов)" );


        $('textarea').keyup(function() {
            var textlen = maxLength - $(this).val().length;
            $('#rchars').text(textlen);
        });

    });
</script>


</body>
</html>